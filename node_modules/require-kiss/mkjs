#!/bin/bash
if [ ! -n "$1" ]
then
  echo "usage: mkjs <filename>"
  exit 1
fi

echo '/*jslint onevar: true, undef: true, newcap: true, nomen: true, regexp: true, plusplus: true, bitwise: true, devel: true, debug: true, es5: true, maxerr: 10 */
/*global module: true, exports: true, provide: true, clearTimeout: true, setTimeout: true, clearInterval: true, setInterval: true */
// see  http://www.jslint.com/lint.html for meaning of above strings
(function () {
  "use strict";

  require("require-kiss");

  function say(word) {
    console.log(word);
  }

  provide("my-module-name", say);
}());' > $1
MODULE=`basename "$1" .js`
sed -i '' s/my-module-name/${MODULE}/ ${1}
